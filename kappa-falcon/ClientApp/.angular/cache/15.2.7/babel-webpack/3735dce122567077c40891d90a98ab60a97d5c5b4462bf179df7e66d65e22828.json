{"ast":null,"code":"var ENETModule = require(\"../build/enet.js\");\nvar jsapi_ = ENETModule.jsapi;\nmodule.exports.Address = Address;\nfunction ip2long(ipstr) {\n  var b = ipstr.split('.');\n  return (Number(b[0]) | Number(b[1]) << 8 | Number(b[2]) << 16 | Number(b[3]) << 24) >>> 0;\n}\nfunction long2ip(addr) {\n  return (addr & 0xff) + '.' + (addr >> 8 & 0xff) + '.' + (addr >> 16 & 0xff) + '.' + (addr >> 24 & 0xff);\n}\nfunction Address() {\n  if (arguments.length == 1 && typeof arguments[0] == 'object') {\n    if (arguments[0] instanceof Address) {\n      this._host = arguments[0].host();\n      this._port = arguments[0].port();\n    } else {\n      this._host = ip2long(arguments[0].address || 0);\n      this._port = parseInt(arguments[0].port || 0);\n    }\n    return this;\n  }\n  if (arguments.length == 1 && typeof arguments[0] == 'number') {\n    this._pointer = arguments[0];\n    return this;\n  }\n  if (arguments.length == 1 && typeof arguments[0] == 'string') {\n    var ipp = arguments[0].split(':');\n    this._host = ip2long(ipp[0]);\n    this._port = parseInt(ipp[1] || 0);\n    return this;\n  }\n  if (arguments.length == 2) {\n    if (typeof arguments[0] == 'string') {\n      this._host = ip2long(arguments[0]);\n    } else {\n      this._host = arguments[0];\n    }\n    this._port = parseInt(arguments[1]);\n    return this;\n  }\n  throw \"bad parameters creating Address\";\n}\nAddress.prototype.host = function () {\n  if (this._pointer) {\n    var hostptr = jsapi_.address_get_host(this._pointer);\n    return ENETModule[\"HEAPU32\"][hostptr >> 2];\n  } else {\n    return this._host;\n  }\n};\nAddress.prototype.port = function () {\n  if (this._pointer) {\n    return jsapi_.address_get_port(this._pointer);\n  } else {\n    return this._port;\n  }\n};\nAddress.prototype.address = function () {\n  if (this._pointer) return long2ip(this.host(), 'Address.prototype.address from pointer');\n  return long2ip(this.host(), 'Address.prototype.address from local');\n};","map":{"version":3,"names":["ENETModule","require","jsapi_","jsapi","module","exports","Address","ip2long","ipstr","b","split","Number","long2ip","addr","arguments","length","_host","host","_port","port","address","parseInt","_pointer","ipp","prototype","hostptr","address_get_host","address_get_port"],"sources":["/Users/jaredcortez/node_modules/enet/lib/Address.js"],"sourcesContent":["var ENETModule = require(\"../build/enet.js\");\nvar jsapi_ = ENETModule.jsapi;\n\nmodule.exports.Address = Address;\n\nfunction ip2long(ipstr) {\n\tvar b = ipstr.split('.');\n\treturn (Number(b[0]) | (Number(b[1]) << 8) | (Number(b[2]) << 16) | (Number(b[3]) << 24)) >>> 0;\n}\n\nfunction long2ip(addr) {\n\treturn (addr & 0xff) + '.' + ((addr >> 8) & 0xff) + '.' + ((addr >> 16) & 0xff) + '.' + ((addr >> 24) &\n\t\t0xff);\n}\n\nfunction Address() {\n\tif (arguments.length == 1 && typeof arguments[0] == 'object') {\n\t\tif (arguments[0] instanceof Address) {\n\t\t\tthis._host = arguments[0].host();\n\t\t\tthis._port = arguments[0].port();\n\t\t} else {\n\t\t\tthis._host = ip2long((arguments[0]).address || 0);\n\t\t\tthis._port = parseInt(arguments[0].port || 0);\n\t\t}\n\t\treturn this;\n\t}\n\tif (arguments.length == 1 && typeof arguments[0] == 'number') {\n\t\tthis._pointer = arguments[0];\n\t\treturn this;\n\t}\n\tif (arguments.length == 1 && typeof arguments[0] == 'string') {\n\t\tvar ipp = arguments[0].split(':');\n\t\tthis._host = ip2long(ipp[0]);\n\t\tthis._port = parseInt(ipp[1] || 0);\n\t\treturn this;\n\t}\n\tif (arguments.length == 2) {\n\t\tif (typeof arguments[0] == 'string') {\n\t\t\tthis._host = ip2long((arguments[0]));\n\t\t} else {\n\t\t\tthis._host = arguments[0];\n\t\t}\n\t\tthis._port = parseInt(arguments[1]);\n\t\treturn this;\n\t}\n\tthrow (\"bad parameters creating Address\");\n}\n\nAddress.prototype.host = function () {\n\tif (this._pointer) {\n\t\tvar hostptr = jsapi_.address_get_host(this._pointer);\n\t\treturn ENETModule[\"HEAPU32\"][hostptr >> 2];\n\t} else {\n\t\treturn this._host;\n\t}\n};\n\nAddress.prototype.port = function () {\n\tif (this._pointer) {\n\t\treturn jsapi_.address_get_port(this._pointer);\n\t} else {\n\t\treturn this._port;\n\t}\n};\n\nAddress.prototype.address = function () {\n\tif (this._pointer) return long2ip(this.host(), 'Address.prototype.address from pointer');\n\treturn long2ip(this.host(), 'Address.prototype.address from local');\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}